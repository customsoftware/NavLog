import UIKit

let aCompleteReport =
"""
{"queryCost":1,"latitude":40.21917,"longitude":-111.7234,"resolvedAddress":"40.21917,-111.7234","address":"40.21917,-111.7234","timezone":"America/Denver","tzoffset":-6.0,"description":"Similar temperatures continuing with no rain expected.","days":[{"datetime":"2023-10-18","datetimeEpoch":1697608800,"tempmax":72.1,"tempmin":42.2,"temp":55.9,"feelslikemax":72.1,"feelslikemin":39.2,"feelslike":55.8,"dew":40.1,"humidity":58.8,"precip":0.0,"precipprob":0.0,"precipcover":0.0,"preciptype":null,"snow":0.0,"snowdepth":0.0,"windgust":10.3,"windspeed":6.9,"winddir":307.7,"pressure":1019.8,"cloudcover":3.8,"visibility":10.0,"solarradiation":177.2,"solarenergy":15.2,"uvindex":7.0,"severerisk":10.0,"sunrise":"07:40:39","sunriseEpoch":1697636439,"sunset":"18:42:53","sunsetEpoch":1697676173,"moonphase":0.14,"conditions":"Clear","description":"Clear conditions throughout the day.","icon":"clear-day","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"comb","hours":[{"datetime":"00:00:00","datetimeEpoch":1697608800,"temp":53.1,"feelslike":53.1,"humidity":63.07,"dew":40.9,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":5.8,"windspeed":0.0,"winddir":0.0,"pressure":1019.3,"visibility":9.9,"cloudcover":0.0,"solarradiation":0.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-night","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"obs"},{"datetime":"01:00:00","datetimeEpoch":1697612400,"temp":51.2,"feelslike":51.2,"humidity":73.72,"dew":43.1,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":5.8,"windspeed":0.0,"winddir":360.0,"pressure":1019.7,"visibility":9.9,"cloudcover":0.0,"solarradiation":0.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-night","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"obs"},{"datetime":"02:00:00","datetimeEpoch":1697616000,"temp":47.9,"feelslike":47.9,"humidity":80.35,"dew":42.2,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":5.8,"windspeed":0.0,"winddir":360.0,"pressure":1019.8,"visibility":9.9,"cloudcover":0.0,"solarradiation":0.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-night","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"obs"},{"datetime":"03:00:00","datetimeEpoch":1697619600,"temp":46.1,"feelslike":46.1,"humidity":85.98,"dew":42.2,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":5.8,"windspeed":0.0,"winddir":0.0,"pressure":1020.0,"visibility":9.9,"cloudcover":0.0,"solarradiation":0.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-night","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"obs"},{"datetime":"04:00:00","datetimeEpoch":1697623200,"temp":45.0,"feelslike":45.0,"humidity":85.32,"dew":40.9,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":5.8,"windspeed":0.0,"winddir":0.0,"pressure":1020.0,"visibility":9.9,"cloudcover":0.0,"solarradiation":0.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-night","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"obs"},{"datetime":"05:00:00","datetimeEpoch":1697626800,"temp":43.1,"feelslike":43.1,"humidity":85.2,"dew":38.9,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":5.8,"windspeed":0.0,"winddir":360.0,"pressure":1021.2,"visibility":9.9,"cloudcover":0.0,"solarradiation":0.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-night","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"obs"},{"datetime":"06:00:00","datetimeEpoch":1697630400,"temp":45.0,"feelslike":45.0,"humidity":76.27,"dew":38.0,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":5.8,"windspeed":0.0,"winddir":0.0,"pressure":1021.9,"visibility":9.9,"cloudcover":0.0,"solarradiation":0.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-night","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"obs"},{"datetime":"07:00:00","datetimeEpoch":1697634000,"temp":43.1,"feelslike":41.5,"humidity":79.4,"dew":37.1,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":5.8,"windspeed":3.4,"winddir":90.0,"pressure":1022.7,"visibility":9.9,"cloudcover":0.0,"solarradiation":0.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-night","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"obs"},{"datetime":"08:00:00","datetimeEpoch":1697637600,"temp":42.2,"feelslike":39.2,"humidity":78.76,"dew":36.0,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":5.8,"windspeed":4.7,"winddir":130.0,"pressure":1023.2,"visibility":9.9,"cloudcover":0.0,"solarradiation":4.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-day","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"obs"},{"datetime":"09:00:00","datetimeEpoch":1697641200,"temp":47.9,"feelslike":47.9,"humidity":70.86,"dew":38.9,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":5.8,"windspeed":0.0,"winddir":0.0,"pressure":1023.2,"visibility":9.9,"cloudcover":0.0,"solarradiation":87.0,"solarenergy":0.3,"uvindex":1.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-day","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"obs"},{"datetime":"10:00:00","datetimeEpoch":1697644800,"temp":55.1,"feelslike":55.1,"humidity":54.32,"dew":38.9,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":5.8,"windspeed":0.0,"winddir":0.0,"pressure":1023.5,"visibility":9.9,"cloudcover":0.0,"solarradiation":301.0,"solarenergy":1.1,"uvindex":3.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-day","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"obs"},{"datetime":"11:00:00","datetimeEpoch":1697648400,"temp":57.8,"feelslike":57.8,"humidity":49.27,"dew":38.9,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":5.8,"windspeed":4.7,"winddir":240.0,"pressure":1023.8,"visibility":9.9,"cloudcover":0.0,"solarradiation":448.0,"solarenergy":1.6,"uvindex":4.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-day","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"obs"},{"datetime":"12:00:00","datetimeEpoch":1697652000,"temp":58.9,"feelslike":58.9,"humidity":49.09,"dew":39.8,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":6.9,"windspeed":6.9,"winddir":250.0,"pressure":1023.4,"visibility":9.9,"cloudcover":0.0,"solarradiation":532.0,"solarenergy":1.9,"uvindex":5.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-day","stations":["UTPRV","KPVU","KSLC","KHCR"],"source":"obs"},{"datetime":"13:00:00","datetimeEpoch":1697655600,"temp":65.9,"feelslike":65.9,"humidity":39.98,"dew":40.9,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":6.9,"windspeed":5.8,"winddir":300.0,"pressure":1018.0,"visibility":10.1,"cloudcover":5.0,"solarradiation":674.0,"solarenergy":2.4,"uvindex":7.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-day","stations":null,"source":"fcst"},{"datetime":"14:00:00","datetimeEpoch":1697659200,"temp":69.0,"feelslike":69.0,"humidity":34.74,"dew":40.0,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":6.9,"windspeed":5.8,"winddir":300.0,"pressure":1017.0,"visibility":10.1,"cloudcover":5.0,"solarradiation":660.0,"solarenergy":2.4,"uvindex":7.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-day","stations":null,"source":"fcst"},{"datetime":"15:00:00","datetimeEpoch":1697662800,"temp":70.1,"feelslike":70.1,"humidity":32.11,"dew":38.9,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":10.3,"windspeed":6.9,"winddir":310.0,"pressure":1017.0,"visibility":10.1,"cloudcover":8.0,"solarradiation":591.0,"solarenergy":2.1,"uvindex":6.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-day","stations":null,"source":"fcst"},{"datetime":"16:00:00","datetimeEpoch":1697666400,"temp":71.0,"feelslike":71.0,"humidity":30.06,"dew":38.0,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":10.3,"windspeed":6.9,"winddir":310.0,"pressure":1017.0,"visibility":10.1,"cloudcover":8.0,"solarradiation":474.0,"solarenergy":1.7,"uvindex":5.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-day","stations":null,"source":"fcst"},{"datetime":"17:00:00","datetimeEpoch":1697670000,"temp":72.1,"feelslike":72.1,"humidity":30.02,"dew":38.9,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":10.3,"windspeed":6.9,"winddir":310.0,"pressure":1017.0,"visibility":10.1,"cloudcover":8.0,"solarradiation":320.0,"solarenergy":1.2,"uvindex":3.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-day","stations":null,"source":"fcst"},{"datetime":"18:00:00","datetimeEpoch":1697673600,"temp":69.0,"feelslike":69.0,"humidity":35.98,"dew":40.9,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":9.2,"windspeed":5.8,"winddir":320.0,"pressure":1017.0,"visibility":10.1,"cloudcover":11.0,"solarradiation":152.0,"solarenergy":0.5,"uvindex":2.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-day","stations":null,"source":"fcst"},{"datetime":"19:00:00","datetimeEpoch":1697677200,"temp":65.0,"feelslike":65.0,"humidity":44.83,"dew":43.1,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":9.2,"windspeed":5.8,"winddir":320.0,"pressure":1018.0,"visibility":10.1,"cloudcover":11.0,"solarradiation":4.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-night","stations":null,"source":"fcst"},{"datetime":"20:00:00","datetimeEpoch":1697680800,"temp":62.0,"feelslike":62.0,"humidity":53.82,"dew":45.0,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":9.2,"windspeed":5.8,"winddir":320.0,"pressure":1018.0,"visibility":10.1,"cloudcover":11.0,"solarradiation":2.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-night","stations":null,"source":"fcst"},{"datetime":"21:00:00","datetimeEpoch":1697684400,"temp":56.0,"feelslike":56.0,"humidity":56.78,"dew":40.9,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":6.9,"windspeed":5.8,"winddir":110.0,"pressure":1019.0,"visibility":10.1,"cloudcover":8.0,"solarradiation":1.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-night","stations":null,"source":"fcst"},{"datetime":"22:00:00","datetimeEpoch":1697688000,"temp":54.1,"feelslike":54.1,"humidity":61.02,"dew":40.9,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":6.9,"windspeed":5.8,"winddir":110.0,"pressure":1018.0,"visibility":10.1,"cloudcover":8.0,"solarradiation":1.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-night","stations":null,"source":"fcst"},{"datetime":"23:00:00","datetimeEpoch":1697691600,"temp":52.1,"feelslike":52.1,"humidity":60.76,"dew":38.9,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":6.9,"windspeed":5.8,"winddir":110.0,"pressure":1018.0,"visibility":10.1,"cloudcover":8.0,"solarradiation":1.0,"solarenergy":0.0,"uvindex":0.0,"severerisk":10.0,"conditions":"Clear","icon":"clear-night","stations":null,"source":"fcst"}]}],"alerts":[],"stations":{"UTPRV":{"distance":6058.0,"latitude":40.204,"longitude":-111.655,"useCount":0,"id":"UTPRV","name":"I-15 @ Provo UT US UTAH DOT","quality":0,"contribution":0.0},"AU183":{"distance":6378.0,"latitude":40.264,"longitude":-111.677,"useCount":0,"id":"AU183","name":"KF7K Orem UT US","quality":0,"contribution":0.0},"KSLC":{"distance":65829.0,"latitude":40.78,"longitude":-111.97,"useCount":0,"id":"KSLC","name":"KSLC","quality":100,"contribution":0.0},"EYSC":{"distance":6975.0,"latitude":40.247,"longitude":-111.65,"useCount":0,"id":"EYSC","name":"Eyring Science Center UT US MISC","quality":0,"contribution":0.0},"KPVU":{"distance":303.0,"latitude":40.22,"longitude":-111.72,"useCount":0,"id":"KPVU","name":"PROVO, UT","quality":100,"contribution":0.0},"KHCR":{"distance":37407.0,"latitude":40.47,"longitude":-111.43,"useCount":0,"id":"KHCR","name":"KHCR","quality":47,"contribution":0.0}},"currentConditions":{"datetime":"12:05:00","datetimeEpoch":1697652300,"temp":58.9,"feelslike":58.9,"humidity":54.8,"dew":42.7,"precip":0.0,"precipprob":0.0,"snow":0.0,"snowdepth":0.0,"preciptype":null,"windgust":2.7,"windspeed":5.8,"winddir":250.0,"pressure":1025.7,"visibility":9.9,"cloudcover":0.0,"solarradiation":532.0,"solarenergy":1.9,"uvindex":5.0,"conditions":"Clear","icon":"clear-day","stations":["AU183","EYSC","KPVU"],"source":"obs","sunrise":"07:40:39","sunriseEpoch":1697636439,"sunset":"18:42:53","sunsetEpoch":1697676173,"moonphase":0.14}
}
""";

func stripWeatherStationsFromReport(_ weatherReport: String) -> String {
    let startString = "\"stations\":{"
    let endString = "}},"
    let stationIndex = weatherReport.range(of: startString)!.lowerBound
    let firstChunk = weatherReport.substring(to: stationIndex)
    let lastChunk = weatherReport.substring(from: stationIndex)
    let weatherIndex = lastChunk.range(of: endString)!.upperBound
    let weatherChunk = lastChunk.substring(from: weatherIndex)
    return firstChunk + weatherChunk
}

let resultString = stripWeatherStationsFromReport(aCompleteReport)
print(resultString)
// The intent of this is to remove the stations element from the JSON being sent to me. Another alternative is to just ask that it not be sent in the query I send to the server.
